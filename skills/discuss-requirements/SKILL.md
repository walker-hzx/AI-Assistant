---
name: discuss-requirements
description: 需求讨论 - 帮助通过结构化问题探索需求
---

# 需求讨论助手

## 文档管理

### 创建需求文档

当用户开始新的需求讨论时：

1. 解析讨论主题（用户输入或默认"未命名需求"）
2. 使用 `docs/requirements/模板.md` 作为基础
3. 替换 `<主题>` 为实际主题
4. 替换 `{timestamp}` 为当前时间
5. 保存到 `docs/requirements/YYYY-MM-DD-<主题>-需求.md`

### 实时记录

在讨论过程中：

1. 每当用户确认一个需求点 → 追加到"确认的需求点"
2. 每当产生一个待确认问题 → 追加到"待确认"
3. 记录当前讨论阶段到"讨论进度"
4. 使用当前时间更新 `{time}` 和 `{n}`

### 查看需求

当用户说"查看需求"时：
1. 读取当前需求文档
2. 展示给用户

## 使用场景

当用户想要讨论新功能或需求时使用。

## 工作流程

### Step 1: 理解背景

询问用户以下问题（一次只问一个）：

1. **目标**：这个功能要解决什么问题？
2. **用户**：谁会用这个功能？
3. **价值**：做这个功能的目的是什么？

### Step 2: 探索功能

在理解背景后，询问功能细节：

1. **核心功能**：这个功能最核心的是什么？
2. **用户流程**：用户使用这个功能的步骤是什么？
3. **输入输出**：用户输入什么？系统输出什么？

### Step 3: 识别边界

询问异常和边界情况：

1. **异常情况**：出错时怎么处理？
2. **边界条件**：有什么特殊情况要考虑？
3. **不需要的**：哪些功能暂时不需要？

### Step 4: 记录需求

当需求讨论到一定程度后：

1. 读取当前需求文档
2. 将确认的需求点追加到"确认的需求点"部分
3. 将待确认问题追加到"待确认"部分
4. 更新"讨论进度"为"需求探索已完成"
5. 告知用户已记录

## 重要原则

- **不讨论交互细节**：需求阶段只讨论"做什么"，不讨论"怎么做交互"
- **不过度设计**：MVP 优先，后续迭代
- **不断确认**：每个理解都和用户确认

## 产出

- 需求文档（简洁版）
- 待确认问题列表
- 下一步建议
